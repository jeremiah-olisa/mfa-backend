import{_ as N,a as f,b as E,c as F,d as R,e as g,S as P,f as j,L as M,g as I,h as O,i as V}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CrrPw9-L.js";import{d as A,o as x,c as h,w as a,a as l,u as t,e as r,g as _,p as $,F as v,t as p,b as n,n as S,j as T,s as y,x as J,k as U,v as z,H as W,Z as H,I as C,J as D}from"./app-Dc-22UEF.js";import{c as Y}from"./createLucideIcon-B2muY4Sh.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-Bxx_Svoy.js";import{_ as Z}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BRZJZILz.js";import"./index-C-tSN4gj.js";import"./utils-CmaDV3c1.js";import"./circle-alert-DFWff1Kn.js";/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=Y("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),G=A({__name:"UsersTable",props:{users:{}},setup(w){const u=d=>{const o={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(d).toLocaleDateString(void 0,o)},c=d=>({WAEC:"bg-purple-100 text-purple-800",NECO:"bg-blue-100 text-blue-800",JAMB:"bg-green-100 text-green-800",OYO:"bg-yellow-100 text-yellow-800",WEB:"bg-indigo-100 text-indigo-800",ADMIN:"bg-red-100 text-red-800"})[d]||"bg-gray-100 text-gray-800";return(d,o)=>(x(),h(t(R),null,{default:a(()=>[l(t(E),null,{default:a(()=>[l(t(N),null,{default:a(()=>[l(t(f),null,{default:a(()=>o[0]||(o[0]=[r("Name")])),_:1}),l(t(f),null,{default:a(()=>o[1]||(o[1]=[r("Email")])),_:1}),l(t(f),null,{default:a(()=>o[2]||(o[2]=[r("Phone Number")])),_:1}),l(t(f),null,{default:a(()=>o[3]||(o[3]=[r("Role")])),_:1}),l(t(f),null,{default:a(()=>o[4]||(o[4]=[r("App")])),_:1}),l(t(f),null,{default:a(()=>o[5]||(o[5]=[r("Referral Code")])),_:1}),l(t(f),null,{default:a(()=>o[6]||(o[6]=[r("Current Plan")])),_:1}),l(t(f),null,{default:a(()=>o[7]||(o[7]=[r("Registered At")])),_:1}),l(t(f),{class:"text-center"},{default:a(()=>o[8]||(o[8]=[r("Actions")])),_:1})]),_:1})]),_:1}),l(t(F),null,{default:a(()=>[(x(!0),_(v,null,$(d.users,(e,m)=>(x(),h(t(N),{key:m},{default:a(()=>[l(t(g),null,{default:a(()=>[r(p(e==null?void 0:e.name),1)]),_:2},1024),l(t(g),null,{default:a(()=>[r(p(e==null?void 0:e.email),1)]),_:2},1024),l(t(g),null,{default:a(()=>{var s;return[r(p(((s=e==null?void 0:e.profile)==null?void 0:s.phone)??"N/A"),1)]}),_:2},1024),l(t(g),null,{default:a(()=>[n("span",{class:S(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize",{"bg-purple-100 text-purple-800":(e==null?void 0:e.role)==="admin","bg-blue-100 text-blue-800":(e==null?void 0:e.role)==="user","bg-green-100 text-green-800":(e==null?void 0:e.role)==="moderator","bg-gray-100 text-gray-800":!["admin","user","moderator"].includes(e==null?void 0:e.role)}])},p(e==null?void 0:e.role),3)]),_:2},1024),l(t(g),null,{default:a(()=>[n("span",{class:S(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize",c(e==null?void 0:e.user_app)])},p((e==null?void 0:e.user_app)||"N/A"),3)]),_:2},1024),l(t(g),null,{default:a(()=>[r(p((e==null?void 0:e.referral_code)||"N/A"),1)]),_:2},1024),l(t(g),null,{default:a(()=>[r(p(new Date(e==null?void 0:e.plan_expires_at)<new Date&&(e==null?void 0:e.plan)||"N/A"),1)]),_:2},1024),l(t(g),null,{default:a(()=>[r(p(u(e==null?void 0:e.created_at)),1)]),_:2},1024),l(t(g),{class:"flex items-center justify-center gap-2"},{default:a(()=>[l(t(T),{href:"",class:"text-green-600 hover:text-green-800"},{default:a(()=>[l(t(q),{class:"h-4 w-4"})]),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1}))}}),K={class:"mb-6 flex justify-end gap-2"},Q={class:"relative w-full items-center md:max-w-[300px] lg:max-w-[500px]"},X={class:"absolute inset-y-0 start-0 flex items-center justify-center px-2"},ee={class:"rounded-md p-4"},le={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},te={class:"space-y-2"},ae={class:"space-y-2"},oe={class:"space-y-2"},se={class:"space-y-2"},ne=A({__name:"UserTableFilter",props:{roles:{},apps:{}},setup(w){const u=y(void 0),c=y(void 0),d=y(void 0),o=y(void 0),e=y(void 0);return J([u,c,d,o,e],([m,s,i,b,L])=>{const B=route(String(route().current()),{...route().params,search:m??void 0,name:s??void 0,email:i??void 0,role:b??void 0,app:L??void 0});W.visit(B,{replace:!1,preserveState:!1})}),(m,s)=>(x(),_("div",K,[n("div",Q,[l(t(k),{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=i=>u.value=i),modelModifiers:{lazy:!0,trim:!0},type:"search",placeholder:"Filter by Name, Email, Role or App",class:"w-full pl-10"},null,8,["modelValue"]),n("span",X,[l(t(P),{class:"size-6 text-muted-foreground"})])]),l(t(O),null,{default:a(()=>[l(t(j),{title:"Filter",as:"button"},{default:a(()=>[l(t(M))]),_:1}),l(t(I),{"avoid-collisions":!0},{default:a(()=>[n("div",ee,[n("div",le,[n("div",te,[s[5]||(s[5]=n("label",{for:"name",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Name ",-1)),l(t(k),{id:"name",modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=i=>c.value=i),type:"text",placeholder:"Search by name",class:"h-10 w-full"},null,8,["modelValue"])]),n("div",ae,[s[6]||(s[6]=n("label",{for:"email",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Email ",-1)),l(t(k),{id:"email",modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=i=>d.value=i),type:"text",placeholder:"Search by email",class:"h-10 w-full"},null,8,["modelValue"])]),n("div",oe,[s[8]||(s[8]=n("label",{for:"role",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Role ",-1)),U(n("select",{id:"role","onUpdate:modelValue":s[3]||(s[3]=i=>o.value=i),class:"h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},[s[7]||(s[7]=n("option",{value:""},"All Roles",-1)),(x(!0),_(v,null,$(m.roles,(i,b)=>(x(),_("option",{key:b},p(i),1))),128))],512),[[z,o.value]])]),n("div",se,[s[10]||(s[10]=n("label",{for:"app",class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," App ",-1)),U(n("select",{id:"app","onUpdate:modelValue":s[4]||(s[4]=i=>e.value=i),class:"h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300"},[s[9]||(s[9]=n("option",{value:""},"All Apps",-1)),(x(!0),_(v,null,$(m.apps,(i,b)=>(x(),_("option",{key:b},p(i),1))),128))],512),[[z,e.value]])])])])]),_:1})]),_:1})]))}}),ie={class:"py-12"},re={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},de={class:"p-6"},pe={class:"overflow-x-auto py-6"},be=A({__name:"List",props:{users:{},pagination:{},roles:{},apps:{}},setup(w){var o;const u=w,c=y(u.users??[]),d=y({...u.pagination,items_count:((o=u.users)==null?void 0:o.length)||0});return(e,m)=>(x(),_(v,null,[l(t(H),{title:"Users List"}),l(Z,null,{header:a(()=>m[0]||(m[0]=[n("div",{class:"flex w-full flex-wrap items-center justify-between gap-y-3"},[n("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Users ")],-1)])),default:a(()=>[n("div",ie,[n("div",re,[n("div",de,[l(ne,{roles:e.roles,apps:e.apps},null,8,["roles","apps"]),l(V,C(D(d.value)),null,16),n("div",pe,[l(G,{users:c.value},null,8,["users"])]),l(V,C(D(d.value)),null,16)])])])]),_:1})],64))}});export{be as default};
