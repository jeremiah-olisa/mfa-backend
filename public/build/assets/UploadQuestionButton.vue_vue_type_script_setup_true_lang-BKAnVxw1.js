import{_}from"./index-BLy4Ru4q.js";import{_ as h}from"./FormErrorAlert.vue_vue_type_script_setup_true_lang-K2wrF-4U.js";import{d as k,s as i,T as v,o as r,g as x,a as n,w as y,u as l,e as b,t as c,c as u,h as F,b as U,K as C,F as I}from"./app-SN6cp9mv.js";import{c as w}from"./createLucideIcon-BDkB8L3d.js";import{X as B}from"./x-DcjWeHi8.js";/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=w("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),j=k({__name:"UploadQuestionButton",setup(N){const a=i(null),s=i(null),e=v({file:null}),d=()=>{a.value&&a.value.click()},p=()=>{s.value=null,e.file=null},f=o=>{e.file=null;const t=o.target;if(t.files&&t.files[0]){s.value=t.files[0].name,g(t.files[0]);return}s.value=null},m=()=>{e.file&&e.post(route("questions.upload"),{onSuccess:()=>{console.log("File uploaded successfully"),s.value=null},onError:o=>{console.log("Upload failed:",o),s.value=null}})},g=o=>{console.log("Uploading file:",o.name),e.file=o,m()};return(o,t)=>(r(),x(I,null,[n(l(_),{variant:"outline",onClick:d,disabled:l(e).processing,class:"h-auto text-wrap"},{default:y(()=>[n(l(E),{class:"mr-2"}),b(" "+c(l(e).processing?"Uploading":"Upload")+" "+c(s.value??"Questions")+" ",1),l(e).file?(r(),u(l(B),{key:0,disabled:l(e).processing,onClick:p,class:"mr-2 text-red-500 dark:text-red-300"},null,8,["disabled"])):F("",!0)]),_:1},8,["disabled"]),U("input",{ref_key:"fileInput",ref:a,type:"file",accept:".xls,.xlsx,.csv",onChange:f,class:"hidden"},null,544),(r(),u(C,{defer:"",to:"#teleport-alert"},[n(h,{"show-field-name":!1,errors:l(e).errors,"error-title":`File Upload Error (${Object.keys(l(e).errors).length} Errors)`},null,8,["errors","error-title"])]))],64))}});export{j as _};
